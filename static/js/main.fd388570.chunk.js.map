{"version":3,"sources":["styles/img/nyan.gif","components/TextField/index.js","components/TextField/TextField.js","components/ProductCard/index.js","components/ProductCard/ProductCard.js","utils/index.js","components/MultiSelect/index.js","components/MultiSelect/MultiSelect.js","services/index.js","services/list.js","module/Products.js","container/Home/component/Home.js","container/Home/index.js","components/Header/index.js","components/Header/Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","TextField","_ref","value","onChange","placeholder","dataKey","react_default","a","createElement","className","data-key","ProductCard","productName","productPrice","productDesc","productStyles","productDelivery","theProductDesc","replace","arguments","length","undefined","toString","priceFormat","join","MultiSelect","theInput","data","handleClick","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","_useState3","_useState4","dontBlur","setDontBlur","selectedItem","filter","e","selected","thePlaceholder","map","label","readOnly","ref","onBlur","stopPropagation","focus","onFocus","onMouseLeave","onMouseEnter","key","type","checked","list","getProducts","call","obj","cancel","errHandling","url","method","header","params","CancelToken","axios","theParams","objectSpread","api_key","process","theHeader","Content-Type","config","baseURL","concat","timeout","headers","responseType","cancelToken","c","instance","create","theErroHandling","resIntersceptor","interceptors","request","use","reqInterceptor","interceptReqErr","response","interceptResErr","then","theHandler","res","err","error","alert","Promise","reject","resolve","products","catch","getProductsStyles","furniture_styles","deliverySelections","Home","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","getInitialProducts","setState","getInitialFurnitureStyles","restructuredData","furnitureStyles","handleChange","defineProperty","target","dataset","handleClickMultiSelect","furnitureKey","toggledData","state","handleClickPeriod","periodKey","periodsFilter","filterName","arr","searchKey","keys","object","defaultValue","reduce","xs","x","toLowerCase","includes","filterStyles","selectedFurnitureStyles","furniture_style","some","indexOf","filterDelivery","totalDays","b","delivery_time","searchValue","_this$state","procuctsFilteredBySearch","procuctsFilteredByStyles","theProducts","i","components_ProductCard","name","price","description","components_TextField","components_MultiSelect","Component","Header","id","alt","src","require","App","react","components_Header","container_Home","Boolean","window","location","hostname","match","ReactDOM","render","App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fd388570.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nyan.b1337439.gif\";","import TextField from './TextField';\nexport default TextField;","import React from 'react'\nimport './TextField.scss';\nexport default function TextField({value, onChange, placeholder, dataKey}) {\n  return (\n    <div className=\"wrapper-text-field\">\n      <input data-key={dataKey} onChange={onChange} placeholder={placeholder} value={value}/>\n    </div>\n  )\n}\n","import ProductCard from './ProductCard';\nexport default ProductCard;","import React from 'react'\nimport { priceFormat } from 'utils/index';\nimport './ProductCard.scss';\nexport default function ProductCard({productName, productPrice, productDesc, productStyles, productDelivery}) {\n  const theProductDesc = productDesc.replace(/^(.{114}[^\\s]*).*/, \"$1...\");\n  return (\n    <div className=\"wrapper-product-card padding-15\">\n      <div className=\"flex j-space-between\">\n        <div className=\"wrapper-product-name\">\n          <h1>{productName}</h1>\n        </div>\n        <div className=\"wrapper-product-price\">\n          <h2>Rp {priceFormat(productPrice)}</h2>\n        </div>\n      </div>\n\n      <div className=\"wrapper-product-description flex f-column\">\n        <p>{theProductDesc}</p>\n        <span className=\"product-styles\">\n          {\n            (productStyles || []).join(', ')\n          }\n        </span>\n        <span className=\"product-delivery\">\n          {productDelivery} Days\n        </span>\n      </div>\n    </div>\n  )\n}\n","export function priceFormat(num = '') {\n  return num.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1.\")\n}\n\nexport function get (keys, object, defaultValue) {\n\treturn keys.reduce((xs, x) => (xs && xs[x] !== undefined) ? xs[x] : defaultValue !== undefined ? defaultValue : undefined, object);\n}","import MultiSelect from './MultiSelect';\nexport default MultiSelect;","import React, {useState} from 'react'\nimport './MultiSelect.scss';\nexport default function MultiSelect({data, handleClick, placeholder}) {\n  const [visible, setVisible] = useState(false);\n  const [dontBlur, setDontBlur] = useState(false);\n  let theInput;\n  \n  const handleBlur = e => {\n    if (dontBlur){\n      e.stopPropagation()\n      theInput.focus()\n      return;\n    } \n    setVisible(false)\n  }\n\n  const selectedItem = (data || []).filter(e => e.selected);\n  const thePlaceholder = selectedItem.length > 0 ? selectedItem.map(e => e.label).join(', ') : placeholder\n  \n  return (\n    <div className=\"wrapper-generic-multiSelect\">\n      <div className=\"wrapper-multiSelect-placeholder\">\n        <input readOnly ref={ref => theInput = ref} value={thePlaceholder} onBlur={handleBlur} onFocus={() => setVisible(true)}/>\n      </div>\n      {\n        visible &&\n        <div onMouseLeave={() => setDontBlur(false)} onMouseEnter={() => setDontBlur(true)} className=\"flex f-column wrapper-content-multiselect\">\n          {\n            (data || []).map(e => (\n              <label key={e.key}>\n                {e.label}\n                <input type=\"checkbox\" checked={e.selected} onChange={() => handleClick(e.key)}/>\n              </label>\n            ))\n          }\n        </div>\n      }\n    </div>\n  )\n}\n","import axios from 'axios';\nimport apiList from './list'\nconst TIMEOUT = 20000 //20 sec\nconst API_URL = process.env.REACT_APP_API_URL\nconst API_KEY = process.env.REACT_APP_API_KEY\nexport const list = apiList\n\nexport const call = (obj, errHandling = false) => {\n   const {\n      url, \n      method,\n      header,\n      data,\n      params\n   } = obj\n   const CancelToken = axios.CancelToken;\n   let cancel;\n   \n   const theParams = {\n      ...params,\n      api_key: API_KEY,\n   }\n   const theHeader = {\n      'Content-Type': 'application/json',\n      ...header\n   };\n   \n   const config = {\n      baseURL: `${API_URL}${url}`,\n      timeout: TIMEOUT,\n      headers: theHeader,\n      method: method,\n      params: theParams,\n      data,\n      responseType: 'json',\n      cancelToken: new CancelToken(function (c) {\n         cancel = c\n      })\n   }\n   let instance = axios.create()\n\n   // useful for custom error handling\n   const theErroHandling = !!errHandling ? errHandling : resIntersceptor\n\n   // Add a request interceptor\n   instance.interceptors.request.use(config => reqInterceptor(config, cancel), interceptReqErr);\n\n   // Add a response interceptor\n   instance.interceptors.response.use(theErroHandling, interceptResErr);\n   \n   return instance.request(config).then(theHandler);\n}\n\nconst theHandler = (res, err) => {\n   // CHECKING LOGIC FROM DOWNSTREAM IF YOU \n   // HAVE SOME ERROR CODE STRUCTURE\n   return res\n}\n\n// ---------------------- REQUEST INTERCEPTOR ----------------------\nconst reqInterceptor = (config, cancel) => {\n   // do checking if necessary, to cancel the request being fired\n\n   // cancel() for canceling the request\n   return config\n}\n\nconst interceptReqErr = error => {\n   alert(error)\n   return Promise.reject(error);\n}\n// ---------------------- / ----------------------------------------\n\n\n// ---------------------- RESPONSE INTERCEPTOR ----------------------\nconst resIntersceptor = response => {\n   // TRANSFORM DATA FROM DOWNSTREAM INTO WHATEVER YOU WANT\n   return response.data\n}\n\n// GENERIC ERROR RESPPONSE HANDLING, E.G NO INTERNET\nconst interceptResErr = error => {\n   alert(error)\n   return Promise.reject(error);\n}\n// ---------------------- / ----------------------------------------\n","const list = {\n   getProducts: '/5c9105cb330000112b649af8/',\n}\n\nexport default list","import {\n   list,\n   call\n} from './../services/index'\n\n// module should be seperated\nexport const getProducts = () => {\n   return new Promise((resolve, reject) => {\n      call({ url: list.getProducts, method: 'get'}).then(e => {\n         return resolve(e.products);\n      }).catch(() => reject());\n   })\n}\n\nexport const getProductsStyles = () => {\n   return new Promise((resolve, reject) => {\n      call({ url: list.getProducts, method: 'get'}).then(e => {\n         return resolve(e.furniture_styles);\n      }).catch(() => reject());\n   })\n}","import React, { Component } from 'react'\nimport TextField from 'components/TextField';\nimport ProductCard from 'components/ProductCard';\nimport MultiSelect from 'components/MultiSelect';\nimport { getProducts, getProductsStyles } from 'module/Products';\nimport { get } from 'utils/index'\nimport './Home.scss'\n\nconst deliverySelections = [\n   {\n      key: 7,\n      label: '1 Week',\n      selected: false\n   },\n   {\n      key: 14,\n      label: '2 Week',\n      selected: false\n   },\n   {\n      key: 30,\n      label: '1 Month',\n      selected: false\n   },\n   {\n      key: 45,\n      label: 'More',\n      selected: false\n   },\n]\n\nexport default class Home extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         searchValue: '',\n         periodsFilter: [...deliverySelections],\n         furnitureStyles: [],\n         products: []\n      };\n   }\n   \n   componentDidMount() {\n      this.getInitialProducts();\n      this.getInitialFurnitureStyles();\n   }\n\n   getInitialProducts = () => {\n      getProducts().then(e => this.setState({products: e})).catch(() => {});\n   }\n\n   getInitialFurnitureStyles = () => {\n      getProductsStyles().then(e => {\n         const restructuredData = (e || []).map(c => ({\n            key: c,\n            label: c,\n            selected: false\n         }))\n         this.setState({furnitureStyles: restructuredData})\n      }).catch(() => {});\n   }\n\n   handleChange = e => this.setState({\n      [e.target.dataset.key]: e.target.value\n   })\n\n   handleClickMultiSelect = furnitureKey => {\n      const { furnitureStyles } = this.state;\n      const toggledData = furnitureStyles.map(e => ({...e, selected: furnitureKey === e.key ? !e.selected : e.selected }))\n      this.setState({ furnitureStyles: toggledData });\n   }\n\n   handleClickPeriod = periodKey => {\n      const { periodsFilter } = this.state;\n      const toggledData = periodsFilter.map(e => ({...e, selected: periodKey === e.key ? !e.selected : e.selected }))\n      this.setState({ periodsFilter: toggledData });\n   }\n\n   filterName = (arr, searchKey) => arr.filter(e => get(['name'], e, '').toLowerCase().includes(searchKey.toLowerCase()))\n\n   filterStyles = arr => {\n      const { furnitureStyles } = this.state;\n      const selectedFurnitureStyles = furnitureStyles.filter(e => e.selected).map(e => e.key);\n\n      // prevent redundant operation if no multiselect choosen\n      if (selectedFurnitureStyles.length === 0)\n         return arr;\n\n      return arr.filter(e => e.furniture_style.some(c => selectedFurnitureStyles.indexOf(c) > -1))\n   }\n\n   filterDelivery = arr => {\n      const { periodsFilter } = this.state;\n      const selectedFurnitureStyles = periodsFilter.filter(e => e.selected).map(e => e.key);\n      const totalDays = selectedFurnitureStyles.length > 0 ? selectedFurnitureStyles.reduce((a, b) => a + b) : 45;\n      // prevent redundant operation if no multiselect choosen\n      // 45 means 1 week + 2 week + 1 month which is unlimited\n      if (selectedFurnitureStyles.length === 0 || totalDays > 44)\n         return arr;\n\n      return arr.filter(e => e.delivery_time <= totalDays);\n   }\n   \n   render() {\n      const { searchValue, furnitureStyles, products, periodsFilter } = this.state;\n      const procuctsFilteredBySearch = this.filterName(products, searchValue);\n      const procuctsFilteredByStyles = this.filterStyles(procuctsFilteredBySearch);\n      const procuctsFilteredByDelivery = this.filterDelivery(procuctsFilteredByStyles);\n      const theProducts = procuctsFilteredByDelivery.map((e, i) => \n         <ProductCard \n            productName={e.name}\n            productPrice={e.price}\n            productDesc={e.description}\n            productStyles={e.furniture_style}\n            productDelivery={e.delivery_time}\n            key={i}\n         />\n      ) \n      return (\n         <div className=\"container\">\n            <div className=\"wrapper-filter padding-15\">\n               <div className=\"margin-b-15 col-6 padding-r-6\">\n                  <TextField dataKey=\"searchValue\" placeholder=\"Search Furniture\" onChange={this.handleChange} value={searchValue} />\n               </div>\n               <div className=\"flex align-center\">\n                  <div className=\"col-6 flex align-center padding-r-6\">\n                     <MultiSelect placeholder={'Furniture Style'} data={furnitureStyles} handleClick={this.handleClickMultiSelect} />\n                  </div>\n                  <div className=\"col-6 flex align-center padding-l-6\">\n                  <MultiSelect placeholder={'Delivery Time'} data={periodsFilter} handleClick={this.handleClickPeriod} />\n                  </div>\n               </div>\n            </div>\n\n            <div className=\"wrapper-list-product padding-15\">\n               {theProducts}\n            </div>\n         </div>\n      )\n   }\n}\n","import Home from './component/Home';\nexport default Home;","import Header from './Header'\nexport default Header","import './Header.scss'\nimport React, { Component } from 'react'\nexport default class Header extends Component {\n   render() {\n      return (\n         <div id=\"header\">\n            <div className=\"flex header-wrapper f-column\">\n               FABELIO TEST\n               <img alt=\"cool cat\" className=\"header-pic\" src={require('styles/img/nyan.gif')} />\n            </div>\n         </div>\n      )\n   }\n}\n","import React, { Component, Fragment } from 'react'\nimport Home from './container/Home'\nimport Header from 'components/Header'\nimport './styles/css/core.scss';\nexport default class App extends Component {\n  render() {\n    return (\n      <Fragment>\n        <Header />\n        <div id=\"app\">\n          <Home />\n        </div>\n      </Fragment>\n      )\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}